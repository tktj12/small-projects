# 📔 Summary
 * 3 bit 아웃풋과 1 bit 인풋, 시프트레지스터로 교차로 신호 체계를 구현하였습니다. 교차로를 분석해보니 총 8개의 상태가 있었습니다. 3 bit를 사용하여 000~111까지 8개의 상태를 모두 표현할 수 있었습니다.
 * AND, NAND, NOT 게이트로만 000부터 111까지의 상태를 분리해야했습니다. 때문에 생각이 많이 필요했고 좁은 브레드 보드에 소자들을 연결하는 게 힘들었습니다.
<br></br>

# 📝 Requirements
|내용|구현여부|
|---|:---:|
|4방향 차량 신호등 및 횡단보도 신호등|O|
|일정 시간 후 다음 스탭|O|
|스탭 무한 반복|O|
|set 수 카운트 ( 보드 LED 점등, 2진수 표기법 )|O|
|내부스위치 누르면 리셋|O|
|7 segment에 초록불 남은시간 표시|O|
|횡단보도 신호등 꺼지기 2초전 깜박임|O|
|외부 스위치 누르면 스킵|O|

<br></br>

# 🛠 Tech Stack
<img alt="Python" src ="https://img.shields.io/badge/Language-d?style=for-the-badge&logo=C&logoColor=black&color=00599C"/> <img alt="Python" src ="https://img.shields.io/badge/STM32F7-d?style=for-the-badge&color=00B1E7"/> 
<br></br>

# 🤔 Learned
 * 메뉴얼에서 GPIO와 레지스터의 오프셋 값을 찾는 법을 배웠음.
 * 레지스터의 비트별 값을 읽고 쓰는 법을 익혔음.
 * 시프트레지스터의 사용법을 배웠음.
<br></br>

# 💬 Additional Explanation
&nbsp; 제 프로그램의 핵심이라고 볼 수 있는 것은 시프트 레지스터(74595) 2개를 이용하여 output gpio 3개만을 이용하여 모든 LED와 7segment를 제어하였다는 점입니다.  

&nbsp; 시프트레지스터를 이용하면 3개의 output을 8개의 output으로 변환할 수 있습니다. 
8개의 output은 곧 8비트로 변환할 수 있다는 것인데, 저는 그 8비트 중에 앞의 3비트는 000번 상태부터 111번 상태까지 LED한테 전달하는데 썼고, 4번째 비트는 횡단보도 LED를 깜박일 때 사용하였습니다. 
그리고 5~7번째 비트의 신호를 다른 시프트레지스터에 주어서 입력이 7개가 필요한 7segment를 제어하였습니다.

&nbsp; 프로그램의 흐름은 전체적으로 1초 씩 while문 루프가 돌아가는 형식입니다.  

&nbsp; 1초 단위로 상태를 체크하여 정해진 시간이 경과하였을 경우 다음 상태로 넘어가도록 프로그래밍하였습니다.	//switching_flag 변수 이용  

&nbsp; 딜레이 함수는 버튼이 눌렸다 떼진 상태인지 수시로 체크하여 버튼이 눌렸다 떼졌을 경우 바로바로 특정 동작을 할 수 있게끔 설계하였습니다. 누르고 있는 상태에서는 동작에 아무런 지장이 없도록 하였습니다.
